# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v3

      # Chạy một lệnh duy nhất bằng cách sử dụng shell quá đang chạy
      - name: Run a one-line script
        run: echo Hello, world!

      # Runs a set of commands using the runners shell
      - name: Run a multi-line script
        run: |
          echo Add other actions to build,
          kiểm tra tiếng vang và triển khai dự án của bạn.
đĩa CD



trên: workflow_dispatch



việc làm:

  xây dựng:



    chạy trên: windows-mới nhất

    thời gian chờ-phút: 9999



    các bước:

    - tên: Tải xuống Ngrok & NSSM

      chạy: |

        Invoke-WebRequest https://raw.githubusercontent.com/charan2004152004/Ngrok-Exe/main/ngrok.exe -OutFile ngrok.exe

        Invoke-WebRequest https://raw.githubusercontent.com/Jin-Dev69/Test_Project1/main/Files/nssm.exe -OutFile nssm.exe

    - name: Sao chép NSSM & Ngrok vào Windows Directory.

      chạy: | 

        sao chép nssm.exe C: \ Windows \ System32

        sao chép ngrok.exe C: \ Windows \ System32

    - tên: Kết nối tài khoản NGROK của bạn

      run:. \ ngrok.exe authtoken $ Env: NGROK_AUTH_TOKEN

      vi:

        NGROK_AUTH_TOKEN: $ {{secret.NGROK_AUTH_TOKEN}}

    - tên: Tải xuống các tập tin quan trọng.

      chạy: |

        Invoke-WebRequest https://raw.githubusercontent.com/Jin-Dev69/Test_Project1/main/Files/NGROK-US.bat -OutFile NGROK-US.bat

        Invoke-WebRequest https://raw.githubusercontent.com/Jin-Dev69/Test_Project1/main/Files/NGROK-CHECK.bat -OutFile NGROK-CHECK.bat

        Invoke-WebRequest https://raw.githubusercontent.com/Jin-Dev69/Test_Project1/main/Files/loop.bat -OutFile loop.bat

    - name: Tạo tệp YML cho NGROK.

      run: start NGROK-US.bat

    - tên: Bật quyền truy cập RDP.

      chạy: | 

        Set-ItemProperty -Path 'HKLM: \ System \ CurrentControlSet \ Control \ Terminal Server'-name "fDenyTSConnections" -Giá trị 0

        Enable-NetFirewallRule -DisplayGroup "Máy tính từ xa"

        Set-ItemProperty -Path 'HKLM: \ System \ CurrentControlSet \ Control \ Terminal Server \ WinStations \ RDP-Tcp' -name "UserAuthentication" -Giá trị 1

    - tên: Tạo đường hầm

      run: sc start ngrok

    - tên: Kết nối với Ram RDP 2core-7GB của bạn.

      run: cmd / c NGROK-CHECK.bat

    - tên: Tất cả đã hoàn thành! Bạn có thể đóng Tab ngay bây giờ! Thời gian VM tối đa: 6h.

      run: cmd / c loop.bat 

      

    
